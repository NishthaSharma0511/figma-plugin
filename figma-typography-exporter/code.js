figma.showUI(__html__,{width:400,height:500});function o(){return figma.getLocalTextStyles().map(n=>({type:"typography",name:n.name,fontFamily:n.fontName.family,fontStyle:n.fontName.style,fontSize:`${n.fontSize}px`,lineHeight:n.lineHeight.unit==="PIXELS"?`${n.lineHeight.value}px`:n.lineHeight.unit,letterSpacing:`${n.letterSpacing.value}px`}))}function i(){return figma.getLocalPaintStyles().map(n=>{const t=n.paints[0],a=`rgba(${Math.round(t.color.r*255)}, ${Math.round(t.color.g*255)}, ${Math.round(t.color.b*255)}, ${t.opacity??1})`;return{type:"color",name:n.name,color:a}})}function c(){return figma.root.findAll(t=>t.type==="FRAME"&&t.name.startsWith("spacing/")).map(t=>({type:"spacing",name:t.name.replace("spacing/",""),value:t.width}))}async function r(){const n=figma.root.findAll(a=>a.type==="COMPONENT"&&a.name.startsWith("icon/"));return await Promise.all(n.map(async a=>{const e=await a.exportAsync({format:"SVG"});return{type:"icon",name:a.name.replace("icon/",""),svg:new TextDecoder().decode(e)}}))}figma.ui.onmessage=async n=>{if(n.type==="get-tokens"){const t=n.include||{},a={};t.typography&&(a.typography=o()),t.colors&&(a.colors=i()),t.spacing&&(a.spacing=c()),t.icons&&(a.icons=await r()),figma.ui.postMessage({type:"token-data",payload:a})}};
